-- DB2 DB2.LUW DB2LUW

DECLARE GLOBAL TEMPORARY TABLE SESSION."temp_table1"
(
	ID      Int NOT NULL,
	"Value" Int NOT NULL
)
ON COMMIT PRESERVE ROWS

-- DB2 DB2.LUW DB2LUW

INSERT INTO SESSION."temp_table1"
(
	ID,
	"Value"
)
VALUES
(1,2)

-- DB2 DB2.LUW DB2LUW

DECLARE GLOBAL TEMPORARY TABLE SESSION."temp_table2"
(
	ID      Int NOT NULL,
	"Value" Int NOT NULL
)
ON COMMIT PRESERVE ROWS

-- DB2 DB2.LUW DB2LUW

INSERT INTO SESSION."temp_table2"
(
	ID,
	"Value"
)
SELECT
	"t1".ID,
	"t1"."Value"
FROM
	SESSION."temp_table1" "t1"

-- DB2 DB2.LUW DB2LUW

SELECT
	"t1".ID,
	"t1"."Value"
FROM
	SESSION."temp_table1" "t1"

-- DB2 DB2.LUW DB2LUW

SELECT
	"t1".ID,
	"t1"."Value"
FROM
	SESSION."temp_table2" "t1"

-- DB2 DB2.LUW DB2LUW

INSERT INTO SESSION."temp_table1"
(
	ID,
	"Value"
)
VALUES
(2,3)

-- DB2 DB2.LUW DB2LUW
DECLARE @ID Integer(4) -- Int32
SET     @ID = 3
DECLARE @Value Integer(4) -- Int32
SET     @Value = 3

INSERT INTO SESSION."temp_table1"
(
	ID,
	"Value"
)
VALUES
(
	@ID,
	@Value
)

INSERT BULK SESSION."temp_table1"

-- DB2 DB2.LUW DB2LUW

TRUNCATE TABLE SESSION."temp_table1" IMMEDIATE

-- DB2 DB2.LUW DB2LUW

TRUNCATE TABLE SESSION."temp_table2" IMMEDIATE

-- DB2 DB2.LUW DB2LUW

BEGIN
	DECLARE CONTINUE HANDLER FOR SQLSTATE '42704' BEGIN END;
	EXECUTE IMMEDIATE 'DROP TABLE SESSION."temp_table2"';
END

-- DB2 DB2.LUW DB2LUW

BEGIN
	DECLARE CONTINUE HANDLER FOR SQLSTATE '42704' BEGIN END;
	EXECUTE IMMEDIATE 'DROP TABLE SESSION."temp_table1"';
END

