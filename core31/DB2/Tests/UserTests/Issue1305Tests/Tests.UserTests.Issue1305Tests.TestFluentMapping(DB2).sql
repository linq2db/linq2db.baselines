BeforeExecute
-- DB2 DB2.LUW DB2LUW

CREATE TABLE "FluentMapping"
(
	"RecordID"       Int       NOT NULL,
	"EffectiveStart" timestamp NOT NULL,
	"EffectiveEnd"   timestamp     NULL,
	"Key"            Int       NOT NULL,
	"Unordered1"     Int       NOT NULL,
	"Unordered2"     Int       NOT NULL,
	"Audit1ID"       Int       NOT NULL,
	"Audit2ID"       Int       NOT NULL
)

BeforeExecute
-- DB2 DB2.LUW DB2LUW

select current_schema from sysibm.sysdummy1

BeforeExecute
-- DB2 DB2.LUW DB2LUW


SELECT
	TABSCHEMA,
	TABNAME,
	INDNAME,
	COLNAMES
FROM
	SYSCAT.INDEXES
WHERE
	UNIQUERULE = 'P' AND TABSCHEMA = 'DB2INST1'

BeforeExecute
-- DB2 DB2.LUW DB2LUW


SELECT
	TABSCHEMA,
	TABNAME,
	COLNAME,
	LENGTH,
	SCALE,
	NULLS,
	IDENTITY,
	COLNO,
	TYPENAME,
	REMARKS,
	CODEPAGE
FROM
	SYSCAT.COLUMNS
WHERE
	TABSCHEMA = 'DB2INST1'

BeforeExecute
-- DB2 DB2.LUW DB2LUW


SELECT
	CONSTNAME,
	TABSCHEMA,
	TABNAME,
	FK_COLNAMES,
	REFTABSCHEMA,
	REFTABNAME,
	PK_COLNAMES
FROM
	SYSCAT.REFERENCES
WHERE
	TABSCHEMA = 'DB2INST1'

BeforeExecute
-- DB2 DB2.LUW DB2LUW


SELECT
	PROCSCHEMA,
	PROCNAME
FROM
	SYSCAT.PROCEDURES
WHERE
	PROCSCHEMA = 'DB2INST1' AND PROCSCHEMA NOT IN ('SYSPROC', 'SYSIBMADM', 'SQLJ', 'SYSIBM')
ORDER BY PROCSCHEMA, PROCNAME

BeforeExecute
-- DB2 DB2.LUW DB2LUW


SELECT
	PROCSCHEMA,
	PROCNAME,
	PARMNAME,
	TYPENAME,
	PARM_MODE,

	ORDINAL,
	LENGTH,
	SCALE
FROM
	SYSCAT.PROCPARMS
WHERE
	PROCSCHEMA = 'DB2INST1'

BeforeExecute
BeginTransaction
BeforeExecute
-- DB2 DB2.LUW DB2LUW

TESTDB.DB2INST1.ADDISSUE792RECORD

BeforeExecute
-- DB2 DB2.LUW DB2LUW
DECLARE @ID Integer(4) -- Int32
SET     @ID = 0

TESTDB.DB2INST1.PERSON_SELECTBYKEY

BeforeExecute
RollbackTransaction
BeforeExecute
-- DB2 DB2.LUW DB2LUW

BEGIN
	DECLARE CONTINUE HANDLER FOR SQLSTATE '42704' BEGIN END;
	EXECUTE IMMEDIATE 'DROP TABLE "FluentMapping"';
END

